@using DemoApplication.Areas.Admin.ViewCompanents
@using DemoApplication.Areas.Admin.ViewModels.Author
@model List<ListItemViewModel>
<div class="col-lg-12">
    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addAuthorModal">Add</button>
    <div class="card">
        <div class="card-header">
            <h4 class="card-title">Authors</h4>
        </div><!--end card-header-->
        <div class="card-body">
            <div class="table-responsive">
                <table id="tblAuthor" class="table table-striped mb-0">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>LastName</th>
                            <th class="text-end">Action</th>
                        </tr>
                    </thead>
                    <tbody id="authors-table">
                        @foreach (var author in Model)
                        {
                            @await Html.PartialAsync("Partials/Author/_ListItem",author)
                        }
                    </tbody>
                </table><!--end /table-->
            </div><!--end /tableresponsive-->
        </div><!--end card-body-->
    </div><!--end card-->
</div>




<!-- add modal  -->
<div class="modal fade bd-example-modal-lg" id="addAuthorModal" tabindex="-1" role="dialog" aria-labelledby="addAuthorModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title m-0" id="mylargemodallabel">add modal</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="close"></button>
            </div><!--end modal-header-->
            <div class="modal-body">
                <div class="card-body" id="add-author-container">
                   @await Component.InvokeAsync(nameof(AddModal))
                </div><!--end card-body-->
            </div><!--end modal-body-->
            <div class="modal-footer">
                <button type="button" class="btn btn-de-primary btn-sm" id="save-add-modal">save</button>
                <button type="button" class="btn btn-de-danger btn-sm" data-bs-dismiss="modal">close</button>
            </div><!--end modal-footer-->
        </div><!--end modal-content-->
    </div><!--end modal-dialog-->
</div><!--end modal-->
<!-- update modal  -->



<div class="modal fade bd-example-modal-lg" id="updateAuthorModal" tabindex="-1" role="dialog" aria-labelledby="updateAuthorModal" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title m-0" id="mylargemodallabel">update modal</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="close"></button>
            </div><!--end modal-header-->
            <div class="modal-body">
                <div class="card-body" id="update-author-container">
                    @await Component.InvokeAsync(nameof(UpdateModalAuthor))
                </div><!--end card-body-->
            </div><!--end modal-body-->
            <div class="modal-footer">
                <button type="button" class="btn btn-de-primary btn-sm">save</button>
                <button type="button" class="btn btn-de-danger btn-sm" data-bs-dismiss="modal">close</button>
            </div><!--end modal-footer-->
        </div><!--end modal-content-->
    </div><!--end modal-dialog-->
</div><!--end modal-->

@section scripts{
    <script src="https://code.jquery.com/jquery-3.6.2.js" asp-append-version="true" integrity="sha256-pkn2CUZmheSeyssYw3vMp1+xyub4m+e+QK4sQskvuo4=" crossorigin="anonymous"></script>
    <script src="~/admin/assets/js/AddModal.js" asp-append-version="true"></script>
    <script src="~/admin/assets/js/RemoveAuthor.js" asp-append-version="true"></script>
    <script src="~/admin/assets/js/UpdateAuthor.js" asp-append-version="true"></script>

}
